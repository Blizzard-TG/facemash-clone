<!-- frontend/vote.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vote - PictureMash</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav>
    <a href="index.html">Login / Upload</a>
    <a href="vote.html" class="active">Vote</a>
    <a href="leaderboard.html">Leaderboard</a>
  </nav>

  <h1>Vote for a Picture</h1>
  <div class="image-container" id="voteContainer">
    <div class="image-box">
      <img id="imgA" />
      <button onclick="vote('A')">Vote</button>
    </div>
    <div class="image-box">
      <img id="imgB" />
      <button onclick="vote('B')">Vote</button>
    </div>
  </div>

  <script>
    const backend = 'http://localhost:3000';
    let images = [];

    async function loadImages() {
      const res = await fetch(`${backend}/images`);
      images = await res.json();
      if (images.length < 2) return alert("Need at least two images!");
      const [a, b] = getTwoRandom(images);
      document.getElementById('imgA').src = a.src;
      document.getElementById('imgA').dataset.id = a.id;
      document.getElementById('imgB').src = b.src;
      document.getElementById('imgB').dataset.id = b.id;
    }

    function getTwoRandom(arr) {
      const shuffled = arr.sort(() => 0.5 - Math.random());
      return [shuffled[0], shuffled[1]];
    }

    async function vote(choice) {
      const winnerId = document.getElementById(`img${choice}`).dataset.id;
      const loserId = document.getElementById(`img${choice === 'A' ? 'B' : 'A'}`).dataset.id;
      const res = await fetch(`${backend}/vote`, {
        method: 'POST',
        headers: { 'Content-Type': 'appl
